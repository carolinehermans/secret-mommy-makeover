<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>
    <link rel="stylesheet" href="main.css"></link>
    <link rel="shortcut icon" href="favicon.png"></link>
    <style> body {padding: 0; margin: 0;} </style>
    <script src="./p5.min.js"></script>
    <script src="./p5.dom.min.js"></script>
    <script src="./p5.sound.min.js"></script>
    <script src="./p5.play.js"></script>
    <script type="text/javascript">
    var makeupTypes = [
      {
        name: "letter",
        funName: "...",
        extraText: "mark? that's not daddy's name...",
        extraImg: "letter-open",
        noMark: true,
        noCursor: true,
        x: 160,
        y: 100,
        degrees: -15,
        h: 90,
        drawFn: () => {},
      },
      {
        name: "razor",
        funName: "this one looks sharp",
        markImgs: ["razor-mark1.png", "razor-mark2.png", "razor-mark3.png", "razor-mark4.png", "razor-mark5.png"],
        noMark: true,
        drawFn: () => {
          tint(255, 255)
          image(makeupTypes[1].empty, 0, 0)
        },
        x: 430,
        y: 80,
        degrees: -15,
        h: 350,
        t_off: 0,
        w_off: 50,
      },
      {
        name: "foundation",
        funName: "looks like skin powder",
        drawFn: () => {
          tint(255, 100)
          image(makeupTypes[2].empty, 0, 0)
        },
        x: 480,
        y: 120,
        degrees: 20,
        h: 370,
        t_off: -2,
      },
      {
        name: "polaroid",
        funName: "whoa, this was ages ago",
        extraText: "aww.",
        extraImg: "polaroid-close",
        noMark: true,
        noCursor: true,
        x: 640,
        y: 90,
        degrees: 7,
        h: 180,
        drawFn: () => {},
      },
      {
        name: "condom",
        funName: "lubricated... ooh, I bet it's moisturizer!",
        drawFn: () => {
          tint(255, 90)
          image(makeupTypes[4].empty, 0, 0)
        },
        x: 170,
        y: 300,
        degrees: 10,
        h: 170,
        t_off: -40,
      },
      {
        name: "blush",
        funName: "a soft brush",
        drawFn: () => {
          tint(255, 40)
          image(makeupTypes[5].empty, 0, 0)
        },
        x: 250,
        y: 150,
        degrees: -15,
        h: 340,
        t_off: -20,
      },
      {
        name: "lipstick",
        funName: "LIPSTICK! i'm gonna look so good",
        drawFn: () => {
          tint(255, 170)
          image(makeupTypes[6].empty, 0, 0)
        },
        x: 650,
        y: 290,
        degrees: -3,
        h: 200,
        t_off: -7,
      },
      {
        name: "eyeshadow",
        funName: "smudgey dark stuff",
        drawFn: () => {
          tint(255, 80)
          image(makeupTypes[7].empty, 0, 0)
        },
        x: 360,
        y: 80,
        degrees: 3,
        w: 50,
        h: 380,
        t_off: -7,
      },
      {
        name: "prozac",
        funName: "maybe if I eat this, I can be happy like mommy",
        extraText: "",
        extraSound: "munch.wav",
        extraImg: "empty",
        noMark: true,
        noCursor: true,
        special: true,
        drawFn: () => {},
        x: 750,
        y: 400,
        degrees: -45,
        h: 30,
      },
    ]

    makeupTypes.map((makeup, i) => {
      makeup["img"] = makeup.name + ".png"
      makeup["hoverImg"] = makeup.name + "-hover.png"
      if (!makeup.noMark) makeup["markImg"] = makeup.name + "-mark.png"
      if (!makeup.noCursor) makeup["cursorImg"] = makeup.name + "-cursor.png"
    })

    </script>
    <script src="sketch.js"></script>
    <script>
      setInterval(() => {
        let wash = document.getElementById("wash")
        let washText = wash.src.split('img/')[1]
        if (washText === "wash-1.png") wash.src = "./img/wash-2.png"
        else wash.src = "./img/wash-1.png"
      }, 350)
    </script>
    <script src="game.js"></script>
    <title>Secret Mommy Makeover</title>
  </head>
  <body>
    <audio autoplay hidden loop controls>
      <source src="background-music.mp3" type="audio/mp3">
    </audio>
    <img id="p5_loading" src="./img/loading.gif"/>
    <img id="js_loading" src="./img/loading.gif"/>
    <div id="after_load">
      <img id="intro-1" src="./img/intro-1.gif"/>
      <img id="intro-1-start" class="pointer"  src="./img/start.png" onmouseover="popAudio.play();this.src='./img/start-hover.png';" onmouseout="this.src='./img/start.png'" onclick="this.style.display = 'none'; document.getElementById('intro-1').style.display = 'none'; "/>
      <img id="intro-2" src="./img/intro-2.gif"/>
      <img id="intro-2-start" class="pointer"  src="./img/next.png" onmouseover="popAudio.play(); this.src='./img/next-hover.png'" onmouseout="this.src='./img/next.png'" onclick="this.style.display = 'none'; document.getElementById('intro-2').style.display = 'none';"/>
      <img id="intro-3" src="./img/intro-3.gif"/>
      <img id="intro-3-start" class="pointer"  src="./img/next.png" onmouseover="popAudio.play(); this.src='./img/next-hover.png'" onmouseout="this.src='./img/next.png'" onclick="this.style.display = 'none'; document.getElementById('intro-3').style.display = 'none';"/>
      <img id="intro-4" src="./img/intro-4.gif"/>
      <img id="intro-4-start" class="pointer"  src="./img/open.png" onmouseover="popAudio.play(); this.src='./img/open-hover.png'" onmouseout="this.src='./img/open.png'" onclick="this.style.display = 'none'; document.getElementById('intro-4').style.display = 'none'; changeState();"/>
      <img id="mirror" draggable="false" src="./img/mirror.png"/>
      <div id="done-container-container">
          <img id="empty-hover" style="cursor: url(./img/cursor-arrow.png), auto;" src="./img/empty.png"/>
          <div id="done-container">
          <img id="done-button" class="pointer"  src="./img/done.png" onmouseover="popAudio.play(); this.src='./img/done-hover.png'" onmouseout="this.src='./img/done.png'" onclick="document.done = 1; document.getElementById('drawer-state').style.display = 'none'; document.getElementById('defaultCanvas0').style.display = 'block';"/>
        </div>
      </div>
      <img id="drawer-button" class="pointer" src="./img/drawer-button.png" onmouseover="popAudio.play(); this.src='./img/drawer-button-hover.png'" onmouseout="this.src='./img/drawer-button.png'" onclick="changeState(); sound.stop();"/>
      <img id="letter-open" class="pointer" src="./img/letter-open-full.png" onclick="{console.log(document.currentMakeup); document.getElementById(document.currentMakeup.extraImg).style.display = 'none';
      document.getElementById(document.currentMakeup.img).style.display = 'block'; document.getElementById(drawer-text).innerHTML = '';}"/>
      <img id="polaroid-close" class="pointer" src="./img/polaroid-close.png" onclick="{console.log(document.currentMakeup); document.getElementById(document.currentMakeup.extraImg).style.display = 'none';
      document.getElementById(document.currentMakeup.img).style.display = 'block'; document.getElementById(drawer-text).innerHTML = '';}"/>
      <img id="empty" draggable="false" src="./img/empty.png"/>
      <img id="wash" src="./img/wash-1.png"/>
      <img id="restart-button" class="pointer" src="./img/restart.png"  onmouseover="popAudio.play(); this.src='./img/restart-hover.png'" onmouseout="this.src='./img/restart.png'" onclick="location.reload()"/>
      <div id="drawer-state">
        <div id="drawer-text"></div>
      </div>
    </div>
  </body>
</html>
